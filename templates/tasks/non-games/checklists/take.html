{# Unified structure: .container, .section, .card, .mdc-button #}
{% load static %}
{% block extra_css %}
<link rel='stylesheet' href='{% static 'css/games.css' %}'>
{% endblock %}
{% extends 'layouts/base.html' %}

{% block title %}Cognitive Checklist - CogniCare{% endblock %}

{% block content %}
<div class="container">
    <div class="section">
        <h1>🧠 Cognitive Checklist</h1>
    <p class="instructions">Complete each item as you go through your day. Check off each task as you complete it. Reflect on your memory at the end of the day.</p>
    </div>
    <div class="card">
    <form method="post" id="checklist-form">
        {% csrf_token %}
            <div class="section">
        <div class="progress-container">
            <div class="progress-bar">
                <div class="progress" id="progress-bar"></div>
            </div>
            <span class="progress-text">0% Complete</span>
        </div>
            </div>
        <ul class="checklist-items">
                <li><label><input type="checkbox" name="item_1" class="checklist-item"> Identify today's date and day of the week</label></li>
                <li><label><input type="checkbox" name="item_2" class="checklist-item"> Read today's weather forecast aloud</label></li>
                <li><label><input type="checkbox" name="item_3" class="checklist-item"> Look at and name 3 people in your photo album</label></li>
                <li class="mood-item">
                    <span class="mood-label">Select your mood for today:</span>
                    <label class="mood-radio"><input type="radio" name="mood" value="happy" required> <span class="emoji">😊</span></label>
                    <label class="mood-radio"><input type="radio" name="mood" value="neutral"> <span class="emoji">😐</span></label>
                    <label class="mood-radio"><input type="radio" name="mood" value="sad"> <span class="emoji">😢</span></label>
            </li>
                <li><label><input type="checkbox" name="item_5" class="checklist-item"> Take your scheduled medications</label></li>
                <li><label><input type="checkbox" name="item_6" class="checklist-item"> Drink 8 cups of water</label></li>
                <li><label><input type="checkbox" name="item_7" class="checklist-item"> Call or message a family member</label></li>
        </ul>
            <div class="memory-section">
                <label for="memory_entry"><strong>Write one memory from today</strong></label>
                <textarea id="memory_entry" name="memory_entry" rows="3" placeholder="Share your memory from today..." required></textarea>
        </div>
        <div class="form-actions">
                <button type="submit" name="complete_task" class="mdc-button mdc-button--raised">
                <span class="mdc-button__ripple"></span>
                <span class="mdc-button__label">Mark as Complete</span>
            </button>
        </div>
    </form>
    </div>
</div>


<script>
document.addEventListener('DOMContentLoaded', function() {
    const checkboxes = document.querySelectorAll('.checklist-item');
    const progressBar = document.getElementById('progress-bar');
    const progressText = document.querySelector('.progress-text');
    const totalItems = checkboxes.length;
    function updateProgress() {
        const checkedItems = document.querySelectorAll('.checklist-item:checked').length;
        const progress = (checkedItems / totalItems) * 100;
        progressBar.style.width = `${progress}%`;
        progressText.textContent = `${Math.round(progress)}% Complete`;
    }
    checkboxes.forEach(checkbox => {
        checkbox.addEventListener('change', updateProgress);
    });
});
</script>
{% endblock %} 